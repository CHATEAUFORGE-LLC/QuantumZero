---
title: Use Case - Authentication with External Services
config:
  theme: base
---
%% QuantumZero UML palette note: actors/external=#fff7e6/#b45309, system/component=#e0f2fe/#075985, datastore=#ecfccb/#4d7c0f, notes=#fff9c4/#d97706. Aligns diagrams to Deliverable 1 UML/DFD theme.
flowchart TB
    %% QuantumZero UML palette (standardized)
    classDef actor fill:#fff7e6,stroke:#b45309,stroke-width:2px
    classDef system fill:#eef2ff,stroke:#4338ca,stroke-width:2px
    classDef usecase fill:#e0f2fe,stroke:#075985,stroke-width:2px
    classDef supporting fill:#e8f5e9,stroke:#166534,stroke-width:1.5px,stroke-dasharray: 3 2

    %% Actors
    User((User)):::actor
    ExtService((External Service<br/>IdP / Bank / Gov)):::actor
    BiometricSystem(("Biometric System")):::actor
    CryptoEngine(("Crypto Engine")):::actor
    
    %% System Boundary - Mobile App
    subgraph MobileApp["<<system>> QuantumZero Mobile"]
        direction TB
        
        %% Primary Use Cases
        UC1(("Initiate external authentication")):::usecase
        UC2(("Present verifiable credential")):::usecase
        UC3(("Generate ZKP proof")):::supporting
        UC4(("Sign request with DID")):::supporting
        UC5(("Receive auth token/assertion")):::usecase
        UC6(("Verify biometric gate")):::supporting
        
        %% Use Case Relationships
         UC1 -. includes .-> UC2
         UC2 -. includes .-> UC3
         UC2 -. includes .-> UC4
         UC4 -. includes .-> UC6
         UC1 -. includes .-> UC5
    end
    
    %% Actor-Use Case Associations
    User --- UC1
    User --- UC6
    User --- UC5
    ExtService --- UC1
    
    %% Secondary Actor Associations
    UC6 -.- BiometricSystem
    UC4 -.- CryptoEngine
    
    %% Metadata note content documented in DIAGRAMS.md
