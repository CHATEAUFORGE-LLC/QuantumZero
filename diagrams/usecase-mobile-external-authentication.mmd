---
title: Use Case - Authentication with External Services
config:
  theme: base
---
flowchart TB
    %% Actors
    User((User))
    ExtService((External Service<br/>Google, Bank, Gov))
    
    %% Secondary Actors
    BiometricSystem(("Biometric System"))
    CryptoEngine(("Crypto Engine"))
    
    %% System Boundary - Mobile App
    subgraph MobileApp["QuantumZero Mobile Application"]
        direction TB
        
        %% Primary Use Cases
        UC1(("Initiate External<br/>Authentication"))
        UC2(("Present Verifiable<br/>Credential"))
        UC3(("Generate<br/>ZKP Proof"))
        UC4(("Sign Request<br/>with DID"))
        UC5(("Receive Auth<br/>Token"))
        UC6(("Verify<br/>Biometric"))
        
        %% Use Case Relationships
        UC1 -.->|includes| UC2
        UC2 -.->|includes| UC3
        UC2 -.->|includes| UC4
        UC4 -.->|includes| UC6
        UC1 -.->|includes| UC5
    end
    
    %% System Boundary - Backend
    subgraph Backend["Backend Verification Services"]
        direction TB
        UC7(("Verify<br/>Proof"))
        UC8(("Validate Credential<br/>Status"))
        UC7 -.->|includes| UC8
    end
    
    %% Actor-Use Case Associations
    User --- UC1
    User --- UC6
    User --- UC5
    ExtService --- UC7
    ExtService --- UC1
    
    %% Secondary Actor Associations
    UC6 -.- BiometricSystem
    UC4 -.- CryptoEngine
    UC2 -.- UC7
    
    %% Metadata Note
    Note["Priority: A | Req: F-SEC-01, F-SEC-03, F-SEC-04<br/>External auth with biometric verification and ZKP<br/>Supports selective disclosure and privacy preservation"]
    
    %% UML Styling
    classDef actor fill:#fff3e0,stroke:#e65100,stroke-width:3px
    classDef useCase fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef backendCase fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    classDef note fill:#fff9c4,stroke:#f57f17,stroke-width:1px
    
    class User,ExtService,BiometricSystem,CryptoEngine actor
    class UC1,UC2,UC3,UC4,UC5,UC6 useCase
    class UC7,UC8 backendCase
    class Note note
