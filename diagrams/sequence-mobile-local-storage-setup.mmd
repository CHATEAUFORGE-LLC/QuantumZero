---
title: Sequence Diagram - Mobile Repository Initialization (SQLite<br>Secure Storage)
config:
  theme: base
---
%% QuantumZero UML palette note: actors/external=#fff7e6/#b45309, system/component=#e0f2fe/#075985, datastore=#ecfccb/#4d7c0f, notes=#fff9c4/#d97706. Aligns diagrams to Deliverable 1 UML/DFD theme.
%% Related: diagrams/class-mobile-repositories.mmd (DidRepository, CredentialRepository), diagrams/class-mobile-services.mmd (SecureStorageService)
sequenceDiagram
  autonumber
  participant App as QuantumZero Mobile App
  participant Storage as SecureStorageService
  participant DidRepo as DidRepository
  participant CredRepo as CredentialRepository
  participant DB as Local SQLite (sqflite)

  App->>Storage: initialize()
  activate Storage
  Storage-->>App: ok
  deactivate Storage

  App->>DidRepo: initialize()
  activate DidRepo
  DidRepo->>DB: Open DB<br>ensure dids table
  activate DB
  DB-->>DidRepo: ok
  deactivate DB
  DidRepo-->>App: ok
  deactivate DidRepo

  App->>CredRepo: initialize()
  activate CredRepo
  CredRepo->>DB: Open DB<br>ensure credentials table
  activate DB
  DB-->>CredRepo: ok
  deactivate DB
  CredRepo-->>App: ok
  deactivate CredRepo
