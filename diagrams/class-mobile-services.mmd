---
title: Class Diagram - Mobile Core Services
config:
  theme: base
---
%% QuantumZero UML palette note: actors/external=#fff7e6/#b45309, system/component=#e0f2fe/#075985, datastore=#ecfccb/#4d7c0f, notes=#fff9c4/#d97706. Aligns diagrams to Deliverable 1 UML/DFD theme.
classDiagram
    direction LR
    %% QuantumZero-mobile/lib/core/services/*
    namespace core_services {
        class BiometricService {
            <<interface>>
            +isAvailable() Future~bool~
            +isEnrolled() Future~bool~
            +authenticate(String reason, bool useErrorDialogs=true, bool stickyAuth=true) Future~bool~
            +getAvailableBiometrics() Future~List~BiometricType~~
        }

        class BiometricType {
            <<enumeration>>
            face
            fingerprint
            iris
            strong
            weak
        }

        class BiometricServiceImpl {
            +isAvailable() Future~bool~
            +isEnrolled() Future~bool~
            +authenticate(String reason, bool useErrorDialogs=true, bool stickyAuth=true) Future~bool~
            +getAvailableBiometrics() Future~List~BiometricType~~
        }

        class CryptoService {
            <<interface>>
            +generateKeyPair() Future~KeyPair~
            +generateSecretKey() Future~SecretKey~
            +sign(List~int~ data, String keyId) Future~Signature~
            +verify(List~int~ data, Signature signature, String publicKey) Future~bool~
            +encrypt(List~int~ data, String keyId) Future~List~int~~
            +decrypt(List~int~ encryptedData, String keyId) Future~List~int~~
            +hash(List~int~ data) Future~List~int~~
            +generateNonce(int length=32) String
        }

        class CryptoServiceImpl {
            +generateKeyPair() Future~KeyPair~
            +generateSecretKey() Future~SecretKey~
            +sign(List~int~ data, String keyId) Future~Signature~
            +verify(List~int~ data, Signature signature, String publicKey) Future~bool~
            +encrypt(List~int~ data, String keyId) Future~List~int~~
            +decrypt(List~int~ encryptedData, String keyId) Future~List~int~~
            +hash(List~int~ data) Future~List~int~~
            +generateNonce(int length=32) String
        }

        class KeyPair {
            +String publicKey
            +String privateKeyId
        }

        class SecureStorageService {
            <<interface>>
            +initialize() Future~void~
            +write(String key, String value) Future~void~
            +read(String key) Future~String?~
            +delete(String key) Future~void~
            +containsKey(String key) Future~bool~
            +deleteAll() Future~void~
            +getAllKeys() Future~List~String~~
        }

        class SecureStorageServiceImpl {
            +initialize() Future~void~
            +write(String key, String value) Future~void~
            +read(String key) Future~String?~
            +delete(String key) Future~void~
            +containsKey(String key) Future~bool~
            +deleteAll() Future~void~
            +getAllKeys() Future~List~String~~
        }
    }

    %% External library types (cryptography)
    class Signature {
        <<cryptography>>
    }
    class SecretKey {
        <<cryptography>>
    }

    BiometricService <|.. BiometricServiceImpl
    CryptoService <|.. CryptoServiceImpl
    SecureStorageService <|.. SecureStorageServiceImpl
    BiometricService ..> BiometricType : uses
    CryptoService ..> KeyPair : returns
    CryptoService ..> Signature : uses
    CryptoService ..> SecretKey : returns
