sequenceDiagram
    autonumber
    participant Bench as Evaluation Coordinator
    participant Aries as Hyperledger Aries
    participant DIDKit as Spruce DIDKit
    participant Spruce as Spruce Credible
    participant Report as Comparison Report

    Note over Bench, Report: SDK Evaluation: DID/VC Implementation Selection

    %% Test 1: Language & Platform Support
    Bench->>Aries: evaluate(platform="mobile", language="react-native")
    activate Bench
    activate Aries
    Aries-->>Bench: [PARTIAL] Wrapper required, ~20MB bundle
    deactivate Aries
    
    Bench->>DIDKit: evaluate(platform="mobile", language="react-native")
    activate DIDKit
    DIDKit-->>Bench: [SUPPORTED] Native bindings, ~2MB bundle
    deactivate DIDKit
    
    Bench->>Spruce: evaluate(platform="mobile", language="flutter")
    activate Spruce
    Spruce-->>Bench: [SUPPORTED] Native Flutter, ~3MB bundle
    deactivate Spruce
    deactivate Bench

    %% Test 2: Feature Compliance
    Note right of Bench: Requirements:<br/>1. W3C DID/VC/VP [F-OP-01]<br/>2. Mobile-first design<br/>3. Hardware key storage [F-SEC-02]<br/>4. ZKP support (via Mopro)
    
    Bench->>Aries: checkFeatures(["W3C VC", "DIDComm", "AnonCreds"])
    activate Bench
    activate Aries
    Aries-->>Bench: W3C VC: YES, DIDComm: YES, AnonCreds: YES<br/>Mobile SDK: NO, Bundle: 20MB
    deactivate Aries
    
    Bench->>DIDKit: checkFeatures(["W3C VC", "DIDComm", "BBS+"])
    activate DIDKit
    DIDKit-->>Bench: W3C VC: YES, DIDComm: NO, BBS+: YES<br/>Mobile SDK: YES, Bundle: 2MB
    deactivate DIDKit
    
    Bench->>Spruce: checkFeatures(["W3C VC", "Wallet", "Selective Disclosure"])
    activate Spruce
    Spruce-->>Bench: W3C VC: YES, Wallet: YES, Selective: YES<br/>Mobile SDK: YES, Bundle: 3MB
    deactivate Spruce
    deactivate Bench

    %% Test 3: Performance Benchmarks
    Bench->>DIDKit: benchmarkPerformance(operation="generateDID")
    activate Bench
    activate DIDKit
    DIDKit-->>Bench: startup: <500ms, keygen: 300ms [NF-OP-01 MET]
    deactivate DIDKit
    
    Bench->>Aries: benchmarkPerformance(operation="generateDID")
    activate Aries
    Aries-->>Bench: startup: 2-3s, keygen: 800ms [NF-OP-01 NOT MET]
    deactivate Aries
    
    Bench->>Spruce: benchmarkPerformance(operation="generateDID")
    activate Spruce
    Spruce-->>Bench: startup: <500ms, keygen: 400ms [NF-OP-01 MET]
    deactivate Spruce
    deactivate Bench

    %% Decision Logic
    Note right of Bench: Scoring Matrix:<br/>Mobile Support: 30%<br/>W3C Compliance: 25%<br/>Performance: 25%<br/>Ease of Use: 20%<br/><br/>Aries: 17/25 (68%)<br/>DIDKit: 22/25 (88%)<br/>Spruce: 18/25 (72%)
    
    Bench->>Report: generateRecommendation(scores, requirements)
    activate Report
    Report-->>Bench: RECOMMENDATION: DIDKit<br/>Reasons:<br/>- Best mobile support (native iOS/Android)<br/>- Lightweight (2MB vs 20MB)<br/>- Fast performance (<500ms startup)<br/>- W3C compliant<br/>- Easy integration<br/><br/>Trade-offs:<br/>- No DIDComm (can add separately)<br/>- Smaller ecosystem vs Aries
    deactivate Report

